<%- include('../includes/head.ejs') %>
</head>
<body>
    <%- include('../includes/nav.ejs') %>
    <main>
        <div class="container">
            <div class="row justify-content-center">
                <h1 class="text-center mb-4 mt-4"><%= editing ? translation.EDIT_NEWS : translation.ADD_NEWS%></h1>
                <form class="col-10 col-md-8" action="/admin/<%if(editing) {%>edit-news<%} else {%>add-news<%}%>" method="POST" enctype="multipart/form-data">
                    <div class="mb-3">
                        <label for="title"><%=translation.TITLE%></label>
                        <input 
                            name="title" 
                            type="text" 
                            class="form-control" 
                            id="title" placeholder="<%=translation.TITLE%>" 
                            value="<%if(editing) {%><%=newsItem.title%><%}%>"
                        >
                    </div>
                    <div class="mb-3">
                        <label for="image" class="form-label"><%=translation.IMAGE%></label>
                        <input class="form-control" type="file" id="image" name="image">
                    </div>
                    <div class="mb-3">
                        <label for="description"><%=translation.DESCRIPTION%></label>
                        <textarea 
                            name="description"
                            class="form-control" 
                            id="description"
                        ><%if(editing) {%><%=newsItem.description%><%}%></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="content"><%=translation.CONTENT%></label>
                        <textarea 
                            name="content"
                            class="form-control" 
                            id="content"
                        ><%if(editing) {%><%=newsItem.content%><%}%></textarea>
                    </div>
                    <%if(editing) {%>
                        <input type="hidden" name="newsId" value="<%=newsItem._id%>">
                    <%}%>
                    <div class="d-grid gap-2">
                        <input type="hidden" name="_csrf" value="<%=csrfToken%>">
                        <button class="btn btn-success" type="submit"><%= editing ? translation.EDIT_NEWS : translation.ADD_NEWS%></button>
                    </div>
                </form>
            </div>
        </div>
    </main>
    <script src="/js/vendor/ckeditor/ckeditor.js"></script>
    <script src="/js/edit-news.js"></script>
    <%- include('../includes/end.ejs') %>